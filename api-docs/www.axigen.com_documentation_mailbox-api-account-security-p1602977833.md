---
url: "https://www.axigen.com/documentation/mailbox-api-account-security-p1602977833"
title: "Mailbox API – Account Security | Axigen Documentation"
---

[Mail Server, Calendaring & Collaboration](https://www.axigen.com/ "Mail Server, Calendaring & Collaboration")

- [Resources](https://www.axigen.com/mail-server/resources/)
- [Documentation](https://www.axigen.com/documentation/)
- [Knowledge Base](https://www.axigen.com/knowledgebase/)
- [Community](https://www.axigen.com/community/)
- [Customers](https://www.axigen.com/customers/)
- [Blog](https://www.axigen.com/mail-server/articles/)
- Menu

Close


- [Mail Server](https://www.axigen.com/)  - [For Service Providers](https://www.axigen.com/mail-server/isp/)
  - [FOR MSPs](https://www.axigen.com/mail-server/msp/)
  - [Cloud Native Mail Server](https://www.axigen.com/cloud-native-mail-server/)
  - [For Businesses](https://www.axigen.com/mail-server/business/)
  - [Free Mail Server](https://www.axigen.com/mail-server/free/)
  - [Features, Platforms & Roadmap](https://www.axigen.com/mail-server/features/)

- [Downloads](https://www.axigen.com/mail-server/download/)  - [Downloads](https://www.axigen.com/mail-server/download/)
  - [Outlook Connector](https://www.axigen.com/mail-server/outlook-connector/)
  - [Additional Modules](https://www.axigen.com/mail-server/additional-modules/)
  - [Automation Tools](https://www.axigen.com/mail-server/scripts/)

- [Support](https://www.axigen.com/support/)  - [Support Services](https://www.axigen.com/support/)
  - [SP Support](https://www.axigen.com/support/service-providers/)
  - [Channel Support](https://www.axigen.com/support/channel/)
  - [Business Support](https://www.axigen.com/support/business/)
  - [Get Support](https://www.axigen.com/support/contact/)

- [Resources](https://www.axigen.com/mail-server/resources/)  - [Documentation](https://www.axigen.com/documentation/)
  - [Knowledge Base](https://www.axigen.com/knowledgebase/)
  - [Community](https://www.axigen.com/community/)
  - [Release History](https://www.axigen.com/new-features/)
  - [Customers](https://www.axigen.com/customers/)
  - [Blog](https://www.axigen.com/mail-server/articles/)

- [Purchase](https://www.axigen.com/buy/)  - [Buy Online](https://www.axigen.com/buy/)
  - [Renew Support](https://www.axigen.com/buy/#renew)
  - [Locate a Partner](https://www.axigen.com/mail-server/locate-partner/)
  - [EDU / GOV Programs](https://www.axigen.com/mail-server/edu-gov-programs/)
  - [License Registration](https://www.axigen.com/mail-server/register/)

- [Partners](https://www.axigen.com/partners/)  - [Partnership Program](https://www.axigen.com/partners/)
  - [Apply Online](https://www.axigen.com/partners/#signup)
  - [Partner Login](https://www.axigen.com/partners/#login)

- [About us](https://www.axigen.com/about-us/)  - [Company](https://www.axigen.com/about-us/)
  - [Careers](https://www.axigen.com/about-us/careers/)
  - [Press Room](https://www.axigen.com/press/)
  - [Contact](https://www.axigen.com/about-us/contact/)

This section is available starting with Axigen X6 (10.6).

- [Additional Security Check NEW](https://www.axigen.com/documentation/mailbox-api-account-security-p1602977833#MailboxAPI%E2%80%93AccountSecurity-AdditionalSecurityCheckNEWRed)
  - [Check Password](https://www.axigen.com/documentation/mailbox-api-account-security-p1602977833#MailboxAPI%E2%80%93AccountSecurity-CheckPassword)
- [Security Methods NEW](https://www.axigen.com/documentation/mailbox-api-account-security-p1602977833#MailboxAPI%E2%80%93AccountSecurity-SecurityMethodsNEWRed)
  - [List Methods](https://www.axigen.com/documentation/mailbox-api-account-security-p1602977833#MailboxAPI%E2%80%93AccountSecurity-ListMethods)
  - [Create Method](https://www.axigen.com/documentation/mailbox-api-account-security-p1602977833#MailboxAPI%E2%80%93AccountSecurity-CreateMethod)
  - [Get QR](https://www.axigen.com/documentation/mailbox-api-account-security-p1602977833#MailboxAPI%E2%80%93AccountSecurity-GetQR)
  - [Send Token](https://www.axigen.com/documentation/mailbox-api-account-security-p1602977833#MailboxAPI%E2%80%93AccountSecurity-SendToken)
  - [Activate Method](https://www.axigen.com/documentation/mailbox-api-account-security-p1602977833#MailboxAPI%E2%80%93AccountSecurity-ActivateMethod)
  - [Revoke Method](https://www.axigen.com/documentation/mailbox-api-account-security-p1602977833#MailboxAPI%E2%80%93AccountSecurity-RevokeMethod)
  - [Revoke All Methods](https://www.axigen.com/documentation/mailbox-api-account-security-p1602977833#MailboxAPI%E2%80%93AccountSecurity-RevokeAllMethods)
- [2-Step Verification NEW](https://www.axigen.com/documentation/mailbox-api-account-security-p1602977833#MailboxAPI%E2%80%93AccountSecurity-2-StepVerificationNEWRed)
  - [Activate](https://www.axigen.com/documentation/mailbox-api-account-security-p1602977833#MailboxAPI%E2%80%93AccountSecurity-Activate)
  - [Deactivate](https://www.axigen.com/documentation/mailbox-api-account-security-p1602977833#MailboxAPI%E2%80%93AccountSecurity-Deactivate)
  - [Regenerate Recovery Codes](https://www.axigen.com/documentation/mailbox-api-account-security-p1602977833#MailboxAPI%E2%80%93AccountSecurity-RegenerateRecoveryCodes)
- [Username Recovery NEW](https://www.axigen.com/documentation/mailbox-api-account-security-p1602977833#MailboxAPI%E2%80%93AccountSecurity-UsernameRecoveryNEWRed)
- [Password Recovery NEW](https://www.axigen.com/documentation/mailbox-api-account-security-p1602977833#MailboxAPI%E2%80%93AccountSecurity-PasswordRecoveryNEWRed)
  - [List Available Methods](https://www.axigen.com/documentation/mailbox-api-account-security-p1602977833#MailboxAPI%E2%80%93AccountSecurity-ListAvailableMethods)
  - [Send Recovery Token via Selected Method](https://www.axigen.com/documentation/mailbox-api-account-security-p1602977833#MailboxAPI%E2%80%93AccountSecurity-SendRecoveryTokenviaSelectedMethod)
  - [Validate Token](https://www.axigen.com/documentation/mailbox-api-account-security-p1602977833#MailboxAPI%E2%80%93AccountSecurity-ValidateToken)
  - [Reset Password](https://www.axigen.com/documentation/mailbox-api-account-security-p1602977833#MailboxAPI%E2%80%93AccountSecurity-ResetPassword)

## Additional Security Check NEW

### Check Password

This endpoint is not available when using OAuth 2.0.

To enhance security, accessing the **Account** **Security** features requires re-authentication. Users must re-enter their password, after which the API client must call the endpoint. This generates a `securityToken` that remains valid for a limited time.

All subsequent changes to security settings must include this `securityToken` in the request. If the token expires, API clients must call the endpoint to obtain a new one.

When 2-Step Verification is mandatory but not yet configured, a _partially authorized session_ allows users to manage certain security features without a `securityToken`.

|     |
| --- |
| `POST /api/v1/account/security/check` |

**Request body (JSON)**

| **Name** | **Type** | **Required** | **Values** | **Description** |
| `password` | `String` | \* |  | The account password |

**Response**

|     |
| --- |
| `{`<br>`    ``securityToken: String          ` `// The temporary security token to be used for managing security settings`<br>`}` |

## Security Methods NEW

When using OAuth 2.0, multi factor authentication is provided by the Authorization server.

The admin can define the set of available security methods for each purpose (or scope) via the limits mechanism. This can be achieved either via WebAdmin or CLI and the status is reflected in the response of the Account Info endpoint, under `securityPolicy` as described below:

- Allowing the activation of specific security methods by individually enabling `alternateEmailAddress` or `phoneNumber`.

- Allowed 2-Step Verification methods reflected in the `twoFactorAuthPolicy.methods` .

- Allowed Username Recovery methods reflected in the `usernameRecoveryMethods`.

- Allowed Password Recovery methods reflected in the `passwordRecoveryMethods`.


### List Methods

This endpoint returns the active security methods based on the requested scope.

|     |
| --- |
| `GET /api/v1/account/security/methods` |

**Query parameters**

| **Name** | **Type** | **Required** | **Values** | **Description** |
| `scope` | `String` |  | "general", "2fa", "usernameRecovery", "passwordRecovery" | The purpose for which the security method should be used.<br>**Default value:** "general" |

**Response**

|     |
| --- |
| `{`<br>`    ``items: [`<br>`        ``{`<br>`            ``id: String,           ` `// the method identifier`<br>`            ``method: String,       ` `// Posssible values: [`<br>`                                  ``//  "sms",`<br>`                                  ``//  "email",`<br>`                                  ``//  "authApp"`<br>`                                  ``// ]`<br>`            ``target: String,       ` `// anonymized target (e.g. Phone numbers will only show the last 3 digits, while emails will show the first 3, the @ and last 5 digits)`<br>`            ``lastUsedDate: String  ` `// the time when the security method was last used expressed as timestamp in UTC format.`<br>`        ``},`<br>`        ``...`<br>`    ``]`<br>`}` |

### Create Method

Requires a `securityToken` to be passed via the `X-Axigen-Security-Token` header, unless in

The security methods are not persisted until they are validated using the Activate Method endpoint. After a security method is created, it will be stored on the session pending activation.

|     |
| --- |
| `POST /api/v1/account/security/methods` |

**Request body (JSON)**

| **Name** | **Type** | **Required** | **Values** | **Description** |
| `method` | `String` | \* | “sms”, “email”, “authApp” | The type of communication channel |
| `target` | `String` | ? |  | The phone number of email address. Required when method is “sms” or “email” |

**Response**

|     |
| --- |
| `{`<br>`    ``id: String          ` `// the method identifier`<br>`}` |

### Get QR

Requires a `securityToken` to be passed via the `X-Axigen-Security-Token` header.

Available only for `authApp` methods.

|     |
| --- |
| `GET /api/v1/account/security/methods/{id}/qr` |

**URL parameters**

| **Name** | **Type** | **Required** | **Description** |
| `id` | `String` | true | The id of the method for which to retrieve the TOTP QR code. |

**Response**

If successful, the response will return the QR code as SVG.

### Send Token

Available only for `sms` and `email` methods.

|     |
| --- |
| `POST /api/v1/account/security/methods/{id}/sendtoken` |

**URL parameters**

| **Name** | **Type** | **Required** | **Description** |
| `id` | `String` | true | The id of the method for which to send the TOTP code (sms or email). |

**Response**

If successful, the response will be empty.

### Activate Method

Requires a `securityToken` to be passed via the `X-Axigen-Security-Token` header.

|     |
| --- |
| `POST /api/v1/account/security/methods/{id}/activate` |

**URL parameters**

| **Name** | **Type** | **Required** | **Description** |
| `id` | `String` | true | The id of the method to be activated. |

**Request body (JSON)**

| **Name** | **Type** | **Required** | **Values** | **Description** |
| `totpToken` | `String` | \* |  | The TOTP code |

**Response**

If successful, the response will be empty.

### Revoke Method

Requires a `securityToken` to be passed via the `X-Axigen-Security-Token` header.

|     |
| --- |
| `DELETE /api/v1/account/security/methods/{id}` |

**URL parameters**

| **Name** | **Type** | **Required** | **Description** |
| `id` | `String` | true | The id of the method to be revoked. |

**Response**

If successful, the response will be empty.

### Revoke All Methods

Requires a `securityToken` to be passed via the `X-Axigen-Security-Token` header.

|     |
| --- |
| `DELETE /api/v1/account/security/methods` |

**Response**

If successful, the response will be empty.

## 2-Step Verification NEW

### Activate

Requires a `securityToken` to be passed via the `X-Axigen-Security-Token` header.

|     |
| --- |
| `POST /api/v1/account/security/2fa` |

**Request body (JSON)**

| **Name** | **Type** | **Required** | **Values** | **Description** |
| `methodId` | `String` | \* |  | The method id used to activate account-level 2FA |
| `totpToken` | `String` | \* |  | The TOTP code |

The activate 2FA Endpoint will return a list of recovery codes. A recovery code can be used for login as an alternative to an account security method.

**Response**

|     |
| --- |
| `{`<br>`    ``recoveryCodes:[`<br>`        ``String,`<br>`        ``...`<br>`    ``]`<br>`}` |

### Deactivate

Requires a `securityToken` to be passed via the `X-Axigen-Security-Token` header.

|     |
| --- |
| `DELETE /api/v1/account/security/2fa` |

**Request body (JSON)**

| **Name** | **Type** | **Required** | **Values** | **Description** |
| `methodId` | `String` | \* |  | The method id used to activate account-level 2FA |
| `totpToken` | `String` | \* |  | The TOTP code |

**Response**

If successful, the response will be empty.

### Regenerate Recovery Codes

Requires a `securityToken` to be passed via the `X-Axigen-Security-Token` header.

This endpoint will regenerate the list o recovery codes. Previously generated recovery codes will no longer be usable.

|     |
| --- |
| `POST /api/v1/account/security/2fa/recoverycodes` |

**Response**

|     |
| --- |
| `{`<br>`    ``recoveryCodes:[`<br>`        ``String,`<br>`        ``...`<br>`    ``]`<br>`}` |

## Username Recovery NEW

Public endpoint

|     |
| --- |
| `POST /api/v1/recover/username` |

**Request body (JSON)**

| **Name** | **Type** | **Required** | **Values** | **Description** |
| `email` | `String` | \* |  | The recovery email address |
| `phoneNumber` | `String` | \* |  | The recovery phone number |

One of `email` or `phoneNumber` is required.

**Response**

The response will always be successful.

## Password Recovery NEW

### List Available Methods

Public endpoint

This endpoint returns a list of available recovery methods based on the account limits.

|     |
| --- |
| `GET /api/v1/recover/password/methods` |

**URL parameters**

| **Name** | **Type** | **Required** | **Description** |
| `username` | `String` | true | The id of the method for which to retrieve the TOTP QR code. |

**Response**

|     |
| --- |
| `{`<br>`    ``items: [`<br>`        ``{`<br>`            ``method: String,       ` `// Posssible values: [`<br>`                                  ``//  "sms",`<br>`                                  ``//  "email"`<br>`                                  ``// ]`<br>`            ``target: String        ` `// anonymized target (e.g. Phone numbers will only show the last 3 digits, while emails will show the first 3, the @ and last 5 digits)`<br>`        ``},`<br>`        ``...`<br>`    ``]`<br>`}` |

### Send Recovery Token via Selected Method

Public endpoint

|     |
| --- |
| `POST /api/v1/recover/password/sendtoken` |

**Request body (JSON)**

| **Name** | **Type** | **Required** | **Values** | **Description** |
| `username` | `String` | \* |  | The username for which password recovery is attempted |
| `email` | `String` | \* |  | The recovery email address |
| `phoneNumber` | `String` | \* |  | The recovery phone number |

One of `email` or `phoneNumber` is required.

**Response**

If successful, the response will be `200 OK`.

### Validate Token

Public endpoint.

Calling this endpoint is optional. The reset password endpoint could be called directly and it is up to the Mailbox API client if the validate token endpoint is called before showing the reset password interface.

|     |
| --- |
| `POST /api/v1/recover/password/validatetoken` |

**Request body (JSON)**

| **Name** | **Type** | **Required** | **Values** | **Description** |
| `username` | `String` | \* |  | The username for which password recovery is attempted |
| `recoveryToken` | `String` | \* |  | The recovery token received via the email or sms |

**Response**

If successful, the response will be `200 OK`.

The response will also include the active password policy.

|     |
| --- |
| `passwordPolicy:`<br>`  ``{`<br>`    ``minLength: Number,          ` `// The minimum password length`<br>`    ``maxLength: Number,          ` `// The maximum password length`<br>`    ``mustInclude: String,        ` `// The required types of characters that the password must contain`<br>`                                ``// Possible values: [ `<br>`                                ``//   "letters",`<br>`                                ``//   "lettersAndNumbers",`<br>`                                ``//   "lettersAndNumbersAndSpecial" `<br>`                                ``// ]`<br>`    ``historySize: Number,        ` `// The number of passwords retained by the system. Present if enabled.`<br>`    ``renewalInterval: Number     ` `// Amount of days between two consecutive password changes. Present if enabled.`<br>`  ``}` |

### Reset Password

Public endpoint.

This endpoint needs the `recoveryToken` received by the user via email or sms.

|     |
| --- |
| `POST /api/v1/recover/password/reset` |

**Request body (JSON)**

| **Name** | **Type** | **Required** | **Values** | **Description** |
| `userName` | `String` | \* |  | The recovery email address |
| `recoveryToken` | `String` | \* |  | The recovery token retrieved by Send Recovery Token Api |
| `newPassword` | `String` | \* |  | The new password |

**Response**

If successful, the response will be `200 OK`.

If the reset fails due to the password policy, the response will include the following details in the JSON response:

|     |
| --- |
| `passwordPolicy:`<br>`  ``{`<br>`    ``minLength: Number,          ` `// The minimum password length`<br>`    ``maxLength: Number,          ` `// The maximum password length`<br>`    ``mustInclude: String,        ` `// The required types of characters that the password must contain`<br>`                                ``// Possible values: [ `<br>`                                ``//   "letters",`<br>`                                ``//   "lettersAndNumbers",`<br>`                                ``//   "lettersAndNumbersAndSpecial" `<br>`                                ``// ]`<br>`    ``historySize: Number,        ` `// The number of passwords retained by the system. Present if enabled.`<br>`    ``renewalInterval: Number     ` `// Amount of days between two consecutive password changes. Present if enabled.`<br>`  ``}` |

- [Mailbox API – Authentication and Authorization](https://www.axigen.com/documentation/mailbox-api-authentication-and-authorization-p773357577)
- [Mailbox API – Schemas](https://www.axigen.com/documentation/mailbox-api-schemas-p666927234)
- [Mailbox API – Versioning](https://www.axigen.com/documentation/mailbox-api-versioning-p723157025)
- [Mailbox API – Account](https://www.axigen.com/documentation/mailbox-api-account-p666828978)
- [Mailbox API – Account Settings](https://www.axigen.com/documentation/mailbox-api-account-settings-p891191397)
- [Mailbox API – Account Security](https://www.axigen.com/documentation/mailbox-api-account-security-p1602977833)
- [Mailbox API – Account Filters](https://www.axigen.com/documentation/mailbox-api-account-filters-p666927337)
- [Mailbox API – Folders](https://www.axigen.com/documentation/mailbox-api-folders-p666829029)
- [Mailbox API – Mails](https://www.axigen.com/documentation/mailbox-api-mails-p666992807)
- [Mailbox API – Mails Create and Send](https://www.axigen.com/documentation/mailbox-api-mails-create-and-send-p666992827)
- [Mailbox API – Mails Search](https://www.axigen.com/documentation/mailbox-api-mails-search-p666992858)
- [Mailbox API – Mails Counters](https://www.axigen.com/documentation/mailbox-api-mails-counters-p688750780)
- [Mailbox API – BIMI](https://www.axigen.com/documentation/mailbox-api-bimi-p1444970498)
- [Mailbox API – Conversations](https://www.axigen.com/documentation/mailbox-api-conversations-p688750637)
- [Mailbox API – Labels](https://www.axigen.com/documentation/mailbox-api-labels-p666960064)
- [Mailbox API – Contacts](https://www.axigen.com/documentation/mailbox-api-contacts-p666960100)
- [Mailbox API – Batch Operations](https://www.axigen.com/documentation/mailbox-api-batch-operations-p689078306)
- [Mailbox API – Undo](https://www.axigen.com/documentation/mailbox-api-undo-p688783382)
- [Mailbox API – Error Handling](https://www.axigen.com/documentation/mailbox-api-error-handling-p683540544)

[Mailbox API – Account Settings](https://www.axigen.com/documentation/mailbox-api-account-settings-p891191397) [Mailbox API – Account Filters](https://www.axigen.com/documentation/mailbox-api-account-filters-p666927337)

Axigen uses cookies. By using our services, you’re agreeing to our [Cookie Policy](https://www.axigen.com/legal/cookie-policy/). [GOT IT](https://www.axigen.com/documentation/mailbox-api-account-security-p1602977833#)